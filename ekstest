
                            def ecs_status = sh(
                                script: "aws ecs describe-clusters --clusters $ecs_cluster --query 'clusters[0].status' --output text",
                                returnStdout: true
                            ).trim()

                            if (ecs_status == "ACTIVE") {
                                echo "ECS cluster $ecs_cluster is already active. Skipping scaling of services."
                                return // Skip scaling if the cluster is active
                            }
                            else {
                               echo "start the ECS cluster $ecs_cluster"
                               sh(script: "aws autoscaling update-auto-scaling-group --auto-scaling-group-name $asg_name1 --desired-capacity $desired_cap --min-size $min_cap --max-size $max_cap", returnStdout: true).trim()
